---
import "../styles/global.css";
import { TopBar } from "../components/TopBar";
import { PublicNav } from "../components/PublicNav";

interface Props {
  title: string;
  description?: string;
}

const { title, description = "Platforma pro osobní rozvoj, zdraví a duchovní růst" } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" href="/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Josefin+Sans:wght@300;400;600&family=Merriweather:ital,wght@0,200;0,300;0,400;0,500;1,200;1,300&family=Open+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <title>{title} | Sámo Fujera</title>
  </head>
  <body
    class="min-h-screen bg-white text-[var(--foreground)] font-sans antialiased flex flex-col"
  >
    <!-- Top bar with auth links -->
    <TopBar client:load />

    <!-- Green navigation (inset from edges, separated from topbar) -->
    <div class="px-2 mt-2 nav:px-4 nav:mt-4">
      <PublicNav client:load currentPath={currentPath} />
    </div>

    <main class="flex-1 px-2 py-2 nav:px-4 nav:py-4">
      <slot />
    </main>

    <footer
      class="bg-cover bg-center text-white"
      style="background-image: url('/images/bg-pattern-green.jpg');"
    >
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-center">
        <p class="text-sm leading-relaxed mb-6 opacity-90">
          Tento prostor vznikl jako místo pro klidné zkoumání života, těla a&nbsp;souvislostí, které běžně zůstávají stranou.
        </p>
        <p class="text-sm font-medium mb-6">
          Sámo Fujera &ndash; živá setkání, přednášky, konzultace a&nbsp;autorská tvorba.
        </p>
        <nav class="flex flex-wrap items-center justify-center gap-4 text-xs uppercase tracking-wider mb-6">
          <a href="/muj-ucet" class="hover:underline">Vstup pro členy</a>
          <a href="/kontakt" class="hover:underline">Kontakt</a>
          <a href="/zasady-ochrany-osobnich-udaju" class="hover:underline">Zásady ochrany osobních údajů</a>
          <a href="/obchodni-podminky" class="hover:underline">Obchodní podmínky</a>
        </nav>
        <p class="text-xs opacity-70">
          &copy; {new Date().getFullYear()} Sámo Fujera
        </p>
      </div>
    </footer>
  </body>
</html>
