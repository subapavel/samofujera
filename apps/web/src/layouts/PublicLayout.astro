---
import "../styles/global.css";
import { TopBar } from "../components/TopBar";
import { PublicNav } from "../components/PublicNav";

interface Props {
  title: string;
  description?: string;
  keywords?: string;
  fullTitle?: boolean;
}

const { title, description = "Oficiální web Sáma Fujery. Texty, přednášky a setkání o životě, zdraví a hlubších souvislostech, o kterých se běžně nemluví.", keywords, fullTitle = false } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    {keywords && <meta name="keywords" content={keywords} />}
    <link rel="icon" href="/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Josefin+Sans:wght@300;400;600&family=Merriweather:ital,wght@0,200;0,300;0,400;0,500;1,200;1,300&family=Open+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <title>{fullTitle ? title : `${title} | Sámo Fujera`}</title>
  </head>
  <body
    class="min-h-screen bg-white text-[var(--foreground)] font-sans antialiased flex flex-col"
  >
    <!-- Top bar with auth links -->
    <TopBar client:load />

    <!-- Green navigation (inset from edges, separated from topbar) -->
    <div class="px-2 mt-2 nav:px-4 nav:mt-4">
      <PublicNav client:load currentPath={currentPath} />
    </div>

    <main class="flex-1 px-2 py-2 nav:px-4 nav:py-4">
      <slot />
    </main>

    <div class="px-2 pb-2 nav:px-4 nav:pb-4">
      <footer
        class="bg-repeat"
        style="background-image: url('/images/bg-pattern-green.jpg');"
      >
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-center text-[hsla(0,0%,100%,.7)] font-extralight" style="font-family: var(--font-body);">
          <p class="text-[1.075rem] leading-[1.8] mb-6">
            Tento prostor vznikl jako místo pro klidné zkoumání života, těla a&nbsp;souvislostí, které běžně zůstávají stranou.
          </p>
          <p class="text-[1.075rem] leading-[1.8] mb-8">
            Sámo Fujera &ndash; živá setkání, přednášky, konzultace a&nbsp;autorská tvorba.
          </p>
          <nav class="flex flex-col items-center gap-3 mb-8">
            <a href="/muj-ucet" class="text-[1.14rem] font-normal underline decoration-[0.5px] underline-offset-2 hover:opacity-80">Vstoupit do členské části</a>
            <a href="/kontakt" class="text-[1.14rem] font-normal underline decoration-[0.5px] underline-offset-2 hover:opacity-80">Kontakt</a>
            <a href="/zasady-ochrany-osobnich-udaju" class="text-sm underline decoration-[0.5px] underline-offset-2 hover:opacity-80">Zásady ochrany osobních údajů</a>
            <a href="/obchodni-podminky" class="text-sm underline decoration-[0.5px] underline-offset-2 hover:opacity-80">Obchodní podmínky</a>
          </nav>
          <p class="text-sm opacity-70">
            &copy; {new Date().getFullYear()} Sámo Fujera
            <span class="mx-2">·</span>
            <a href="#" class="underline decoration-[0.5px] underline-offset-2 hover:opacity-80">Cookies</a>
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
